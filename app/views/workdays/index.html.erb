<div class="container my-3">
  <%= month_calendar(events: @workdays) do |date, workdays| %>
    <% if workdays.empty? %>
      <%= link_to "#{new_workday_path}?#{date}" do %>
        <%= date.day %>
      <% end %>
    <% else %>

      <% workdays.each do |workday| %>
        <div>
          <%= link_to "#{edit_workday_path(workday)}?#{date}" do %>
          <% if workday.on_rest %>
            <div class="bg-primary rounded-circle calendar-circle date"><%= date.day %></div>
          <% elsif workday.on_mc %>
            <div class="bg-warning rounded-circle calendar-circle date"><%= date.day %></div>
          <% else %>
            <div class="bg-success rounded-circle d-flex calendar-circle date"><%= date.day %></div>
            <% end %>
          <% end %>
        </div>
      <% end %>
    <% end %>
  <% end %>
  <div class="d-flex justify-content-around">
    <div class="d-flex align-items-center">
      <div class="bg-success rounded-circle calendar-circle-small m-0"></div>
      <p class="my-0 mx-1">Work day</p>
    </div>
    <div class="d-flex align-items-center">
      <div class="bg-primary rounded-circle calendar-circle-small m-0"></div>
      <p class="my-0 mx-1">Rest day</p>
    </div>
    <div class="d-flex align-items-center">
      <div class="bg-warning rounded-circle  calendar-circle-small m-0"></div>
      <p class="my-0 mx-1">On MC</p>
    </div>
  </div>
</div>
